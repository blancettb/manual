{
  "name": "Available server connections are getting closer to the max connections limit",
  "description": "Ratio between Active Connections and Max Connections is greater than the configured ratio threshold",
  "type": "MANUAL",
  "tags": [
     ""
  ],
  "fields": [
    {
        "name": "content",
        "description": "Content for manual action",
        "encoding": "base64",
        "value": "
1. Increase the max connections for your Azure MySQL database by modifying the connection limits in the Azure portal or through the Azure CLI. This will provide more capacity for new incoming connections.
2. Monitor the current number of active connections and available server connections. If the available server connections drop significantly below the desired minimum, it might indicate that the increased max connections setting is not sufficient. In this case, consider scaling up the server resources (CPU, memory) to accommodate more concurrent connections.
3. Review the query patterns and usage of your application to identify any potential issues that could be causing excessive connections or resource utilization. Optimize queries, use connection pooling, or implement other strategies to reduce the overall load on the database.
4. Check for any slow-queries or long-running transactions that may be consuming excessive resources. You can use monitoring tools to identify such queries and take appropriate action, such as optimizing the queries, adding indexes, or tuning the application code.
5. Regularly review and update the connection limits and settings based on the changing requirements of your application and workload. This will help ensure that the Azure MySQL database remains properly sized and optimized over time.",
        "secured": false
    }
],
  "staticId": "containerCPUDebug",
  "metadata": {
    "ai": [
      {
        "algorithm": "watsonx",
        "events": ["CxrM_GxQCOtG4MbIFFCw-ZIihHw"]
      }
    ]
  }
}