{
  "name": "Azure Api Management capacity is getting closer to max capacity limit",
  "description": "This rule checks whether the Azure Api Management capacity is getting closer to the maximum capacity limit.",
  "type": "MANUAL",
  "tags": [
     ""
  ],
  "fields": [
    {
        "name": "content",
        "description": "Content for manual action",
        "encoding": "base64",
        "value": "   1. Monitor usage and traffic patterns: Regularly monitor the usage and traffic patterns of your APIs to identify any sudden spikes or prolonged periods of high demand. This will help you take proactive measures to manage capacity and prevent overloading the system.
   2. Adjust policies and throttling settings: You can adjust the policies and throttling settings for your APIs to control the rate of incoming requests. This can help distribute the load more evenly and prevent any single API from becoming a bottleneck.
   3. Optimize instance SKU: If necessary, you can optimize the instance SKU (Small, Medium, Large) based on your current and forecasted usage. This will ensure that you are using the most cost-effective solution for your needs while maintaining sufficient capacity.
   4. Enable autoscale: Azure Api Management supports autoscaling, which can automatically adjust the number of instances based on demand. This can help maintain optimal performance without requiring manual intervention.
   5. Implement traffic management: Traffic management tools like Azure Application Gateway or NGINX Ingress Controller can help distribute traffic across multiple instances and prevent any single instance from becoming overwhelmed.
   6. Plan for future growth: When designing your architecture, consider the potential for future growth in terms of both users and API usage. This will help you scale your infrastructure accordingly and avoid running into capacity issues down the line.",
        "secured": false
    }
],
  "staticId": "containerCPUDebug",
  "metadata": {
    "ai": [
      {
        "algorithm": "watsonx",
        "events": ["O6cj3Q_e_1VNfbYz_Gj2fjdVsEM"]
      }
    ]
  }
}